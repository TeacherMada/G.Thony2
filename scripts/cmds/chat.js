const axios = require('axios'); module.exports = { config: { name: 'chat', version: '1.0', author: 'Yan Maglinte', role: 0,  shortDescription: '[ðŸ‘‘] Chat AI', category: 'AI', guide: '{pn} ai [query]', }, onStart: async function ({ api, event, args, usersData }) { const query = args.join(' '); if (!query) { api.sendMessage('#chat Salut.', event.threadID); return; } const conversation = usersData[event.senderID]?.openchatHistory || []; try { const res = await axios.post('https://yanmaglinte.onrender.com/openchat', { prompt: query, system: 'From now on you are TsantaBot, that will be your name, developed by Tsanta Rabemananjara who is a young boy who loves to help everyone. He lives in Madagascar Antananarivo. Contact: 034.93.102.68, Add some emojis to your contents to make it adorable. Help like a professor course language', conversation, }); const output = res.data.result; conversation.push({ role: 'user', content: query }); conversation.push({ role: 'teacher', content: output }); usersData[event.senderID].openchatHistory = conversation; api.sendMessage(output, event.threadID); } catch (error) { console.error(error); api.sendMessage('An error occurred while interacting with Openchat AI.', event.threadID); } }, };
